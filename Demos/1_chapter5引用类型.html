<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>第5章 引用类型</title>
</head>
<body>
    <script>
        //数组操作
         /*
        var colors=["red","green","yello"];
       
        console.log(colors[3]);
        colors[3]="orange";
        console.log(colors[3]);
        console.log(undefined);
        console.log([1,undefined].join());
        var values=[0,1,5,10,14]
        values.sort(function(num1,num2){
            if(num1<num2)
            return -1;
            else if(num1>num2)
            return 1;
            else
            return 0;
        });
        console.log(values);
       
         var colors2=colors.concat("black",["white","blue"]);
         console.log(colors2);
         var colors3=colors2.slice(1);
         console.log(colors3);
         var colors4=colors2.slice(1,7);
        console.log(colors4);
        var removedcols=colors2.splice(0,2);
        console.log(colors2);
        console.log(removedcols);
        
         var colors5=colors.splice(1,1,"hello");
         console.log(colors5);
         console.log(colors);
        
          var colors6=colors.splice(1,0,"hello,world");
          console.log(colors6);
          console.log(colors);
            
            var numbers=[1,2,3,4,5,6];
        //迭代函数
        /*foreach
        numbers.forEach(function(item,index,array){
            console.log(index);
            console.log(item);
        });
        */
        /*every和some
       console.log(numbers.every(function(item,index,array){
            return item >3;
       }));
       console.log(numbers.some(function(item,index,array){
            return item >3;
       }));
       */
       /*filter函数
       var arrs=numbers.filter(function(item,index,array){
           return item>2;
       });
       console.log(arrs);
     
       var arrs=numbers.map(function(item,index,array){
           return item +1;
       });
       console.log(arrs);
        
         //reduce 和reduceRight
      console.log(numbers.reduce(function(pre,cur,index,array){
              console.log(pre);
              console.log(cur);
              console.log(index);
              return pre+cur;
       })); 
       console.log(numbers.reduceRight(function(pre,cur,index,array){
              console.log(pre);
              console.log(cur);
              console.log(index);
              return pre+cur;
       })); 
        */
        //DateTime类型
        /*
        var start=Date.now();
        var date=new Date("May 32,2004");
        
        console.log(date);
        var y2k=new Date(Date.UTC(2000,0));
        console.log(y2k);
        var allfives=new Date(Date.UTC(2010,3,5,21,10,34));
        console.log(allfives);
        var end=Date.now();
        console.log(end-start);
       
        var date=Date.now();
        console.log(date.toLocaleString());
     */
     //正则表达式
     /*
        var str="I am a little girl,too young,too simple";
        var exp=new RegExp("a","g");
        console.log( exp.test(str));
        var par=/\[bc\]at/i;
        console.log(par.global);
        console.log(par.ignoreCase);
        console.log(par.multiline);
        console.log(par.lastIndex);
        console.log(par.source);
        
        var text="mom and dad and baby";
        var pattern=/mom(  and dad( and baby)?)?/gi;
        var matches=pattern.exec(text);
        console.log(matches.index);
        console.log(matches.input);
        console.log(matches[0]);
        console.log(matches[1]);
        console.log(matches[2]);
        */
    //函数
    /*
    var sum=function(sum1,sum2){
        return sum1+sum2;
    };
    var anotherSum=Function("sum1","sum2","return sum1+sum2");
    console.log("sum"+sum(1,3));
    console.log("anotherSum"+anotherSum(1,4));
    */
    /*
    function callSomeFunction(someFunction,someArgument){
        return someFunction(someArgument);
    }
    var add10=function(sum){
        return sum+10;
    }
    /*
    function add10(sum){
        return sum+10;
    }
    
    console.log(callSomeFunction(add10,1));
    
    function createComparisonFunction(propertyName){
        return function(obj1,obj2){
            var val1=obj1[propertyName];
            var val2=obj2[propertyName];
            if(val1<val2)
                return -1;
            else if (val1>val2){
                return 1;
            }
            else
                return 0;

        }
    }
   
    var data=[{name:"zzy",age:28},{name:"msl",age:30},{name:"xck",age:18}];
    data.sort(createComparisonFunction("name"));
    console.log(data);
    data.sort(createComparisonFunction("age"));
    console.log(data);
    */
    //解除函数体和函数名的耦合，防止函数变量被重赋值，原有功能逻辑改变
    /*
    function factorial(num){
        if(num<=1)
            return 1;
        else
            return num *arguments.callee(num-1);
    }
    function afactorial(num){
        if(num<=1)
            return 1;
        else
            return num*afactorial(num-1);
    }
    var trueFactorial=factorial;
    factorial=function(){
        return 0;
    }
    var atrueFactorial=afactorial;
    afactorial=function(){
        return 0;
    }
    console.log( trueFactorial(5));
    console.log(factorial(5));
    console.log(atrueFactorial(5));

    window.color="red";
    var o={color:"blue"};
    function getColor(){
        //color="yellow";
        //this取决于调用getColor
        return this.color;
    }
    o.getColor=getColor;
    console.log(getColor());
    console.log(o.getColor());
   
    function outer(){
        inner();
    }
    function inner(){
        console.log(arguments.callee.caller);
    }
    console.log(outer());
 
     function sayName(name){
         console.log(name);
     }
     function sum(sum1,sum2){
         return sum1+sum2;
     }
     function sayHello(){
         console.log("hello");
     }
     console.log(sayName.length)
     console.log(sum.length);
     console.log(sayHello.length);
    */
    //函数的apply方法和call方法
    /*
    function sum(num1,num2)
    {
        return num1+num2;
    }
    function callSum1(num1,num2){
        return sum.apply(this,arguments);
    }
    function callSum2(num1,num2){
        return sum.apply(this,[num1,num2]);
    }
   console.log(callSum1(1,3)) ;
   console.log(callSum2(2,4)) ;
   function callSum(num1,num2){
       return sum.call(this,num1,num2);
   }
   console.log(callSum(1,1));
 
   window.color="red";
   var o={color:"blue"};
   function getColor(){
       console.log(this.color);
   }
   getColor();
   getColor.call(this);
   getColor.call(window);
   getColor.call(o);
     
window.color="red";
var o={color:"blue"};
function getColor(){
    console.log(this.color);
}
var objGetColor=getColor.bind(o);
objGetColor();
*/
//基本类型的装箱操作

    </script>
</body>
</html>